(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{87:e=>{e.exports={root:"ModalError_root__7jjdw",fadeIn:"ModalError_fadeIn__Y1oOP"}},299:e=>{e.exports={root:"Indent_root__jXY0O"}},312:e=>{e.exports={root:"ActionBar_root__UG4k_"}},483:e=>{e.exports={root:"BarProgress_root__GmDvF",measure:"BarProgress_measure__DZrlj"}},983:e=>{e.exports={flex:"Accordion_flex__NjGtE",icon:"Accordion_icon___3fpj",content:"Accordion_content__MsGhh",active:"Accordion_active__b7b8d"}},1031:e=>{e.exports={root:"SidebarLayout_root__X5Hpq",sidebar:"SidebarLayout_sidebar__j2cHv",handle:"SidebarLayout_handle__8L_Bm",line:"SidebarLayout_line__ltllD",content:"SidebarLayout_content__AZcG9"}},1711:e=>{e.exports={root:"DropdownMenuTrigger_root__TR6Jx"}},1801:e=>{e.exports={root:"DefaultActionBar_root__xqdtI"}},2151:e=>{e.exports={root:"DropdownMenu_root__4UyPe",footer:"DropdownMenu_footer__ulicg"}},2263:e=>{e.exports={root:"Navigation_root__yJK8q",logo:"Navigation_logo__7lpe8",left:"Navigation_left__PsECp",children:"Navigation_children__G7tRg",right:"Navigation_right__DqEOz"}},2266:e=>{e.exports={item:"ActionListItem_item__rTQlb",icon:"ActionListItem_icon__VY1FA",text:"ActionListItem_text__fGsZi"}},2425:e=>{e.exports={root:"AlertBanner_root__PQOpx"}},2736:e=>{e.exports={body:"DefaultLayout_body__7xiM0",pixel:"DefaultLayout_pixel__mKKBp"}},2976:e=>{e.exports={card:"CardDouble_card__imAdl",children:"CardDouble_children__3_Zes",action:"CardDouble_action__fF1Pu",left:"CardDouble_left__Vg3EB",leftCorner:"CardDouble_leftCorner___SWDU",right:"CardDouble_right__cpaq8",rightCorner:"CardDouble_rightCorner__fn6gQ",title:"CardDouble_title__Bj6Bn"}},3097:e=>{e.exports={root:"Input_root__MiVNi",label:"Input_label__SRimm",placeholder:"Input_placeholder__Hh3Rh",displayed:"Input_displayed__cBIhN",focused:"Input_focused__ZEj77",block:"Input_block__LzBhZ",blink:"Input_blink__Y2PuB",inputContainer:"Input_inputContainer__f6ANl",hidden:"Input_hidden__LXqFN"}},3684:e=>{e.exports={message:"Message_message__V25I_",left:"Message_left__EjdiR",triangle:"Message_triangle__1caGM",right:"Message_right__o6j_G",bubble:"Message_bubble__n0N83"}},3761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ts,dynamic:()=>ta});var n=r(5155);r(3971);var o=r(983),a=r.n(o),l=r(2115);let s={}.hasOwnProperty;function i(e){let t=document.body;t.classList.forEach(e=>{e.startsWith("theme-")&&t.classList.remove(e)}),e?t.classList.add(e):t.classList.add("theme-light")}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=[];for(let e=0;e<arguments.length;e++){let t=arguments[e];if(!t)continue;let r=typeof t;if("string"===r||"number"===r)n.push(t);else if(Array.isArray(t)){if(t.length){let e=c.apply(null,t);e&&n.push(e)}}else if("object"===r){if(t.toString!==Object.prototype.toString)n.push(t.toString());else for(let e in t)s.call(t,e)&&t[e]&&n.push(e)}}return n.join(" ")}let d=e=>!!(e&&e instanceof HTMLElement)&&e.matches('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"]), [contenteditable="true"]'),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";if(!e)return null;let r=Array.from(document.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"]), [contenteditable="true"]')),n=r.indexOf(e);if(-1!==n){let e="next"===t?(n+1)%r.length:(n-1+r.length)%r.length;return r[e]}return null},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";if(!e)return null;let n=Array.from(e.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"]), [contenteditable="true"]'));if(0===n.length)return null;let o=0;if(t){let e=n.indexOf(t);-1!==e&&(o="next"===r?e+1:e-1)}return o>=0&&o<n.length?n[o]:null};var m=r(9057),p=r.n(m);let g=l.forwardRef((e,t)=>{let{children:r,...o}=e;return(0,n.jsx)("section",{className:p().row,ref:t,...o,children:r})});g.displayName="Row";let x=e=>{let{defaultValue:t=!1,title:r,children:o}=e,[s,i]=l.useState(t),d=l.useRef(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{ref:d,tabIndex:0,role:"button",onClick:()=>{i(e=>!e)},"aria-expanded":s,children:(0,n.jsxs)("div",{className:c(a().flex,s?a().active:void 0),children:[(0,n.jsx)("span",{className:a().icon,children:s?"▾":"▸"}),(0,n.jsx)("span",{className:a().content,children:r})]})}),s&&(0,n.jsx)(g,{style:{paddingLeft:"1ch"},children:o})]})};var f=r(8951),v=r.n(f);let b=l.forwardRef((e,t)=>{let{onClick:r,hotkey:o,children:a,style:l,rootStyle:s,isSelected:i}=e;return(0,n.jsxs)("div",{className:c(v().root,i?v().selected:null),style:s,onClick:r,tabIndex:0,ref:t,role:"button",children:[!function(e){return 0!==e&&(!e||"object"==typeof e||0===e.length||!(e=e.toString()).trim())}(o)?(0,n.jsx)("span",{className:v().hotkey,children:o}):null,(0,n.jsx)("span",{className:v().content,style:l,children:a})]})});b.displayName="ActionButton";var S=r(2425),j=r.n(S);let _=e=>{let{style:t,...r}=e,o={...t};return(0,n.jsx)("div",{className:j().root,...r,style:o})};var y=r(483),w=r.n(y);let E=e=>{let{intervalRate:t,progress:r,fillChar:o="░"}=e,[a,s]=l.useState(null!=r?r:0),[i,c]=l.useState(0),[d,u]=l.useState(0),h=l.useRef(null),m=l.useRef(null);l.useEffect(()=>{if("number"==typeof r){s(r);return}if(!t)return;let e=setInterval(()=>{s(e=>(e+10)%110)},t);return()=>clearInterval(e)},[t,r]),l.useLayoutEffect(()=>{if(!m.current)return;let e=m.current.getBoundingClientRect();e.width>0?u(e.width):requestAnimationFrame(()=>{var e;let t=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect();t&&t.width>0&&u(t.width)})},[o]),l.useEffect(()=>{if(!h.current)return;let e=new ResizeObserver(e=>{for(let t of e){let{width:e}=t.contentRect;c(e)}});return e.observe(h.current),()=>e.disconnect()},[]);let p=Math.min(a,100),g=10;d>0&&i>0&&(g=Math.max(1,Math.floor(i/d)));let x=Math.round(p/100*g),f=o.repeat(x);return(0,n.jsxs)("div",{className:w().root,ref:h,"aria-valuenow":p,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar",children:[(0,n.jsx)("span",{ref:m,className:w().measure,children:o}),f]})};var C=r(5619),N=r.n(C);let k=e=>{let{children:t,mode:r,title:o,style:a,...l}=e,s=(0,n.jsxs)("header",{className:N().action,children:[(0,n.jsx)("div",{className:N().left,"aria-hidden":"true"}),o?(0,n.jsx)("h2",{className:N().title,children:o}):null,(0,n.jsx)("div",{className:N().right,"aria-hidden":"true"})]});return"left"===r&&(s=(0,n.jsxs)("header",{className:N().action,children:[(0,n.jsx)("div",{className:N().leftCorner,"aria-hidden":"true"}),(0,n.jsx)("h2",{className:N().title,children:o}),(0,n.jsx)("div",{className:N().right,"aria-hidden":"true"})]})),"right"===r&&(s=(0,n.jsxs)("header",{className:N().action,children:[(0,n.jsx)("div",{className:N().left,"aria-hidden":"true"}),(0,n.jsx)("h2",{className:N().title,children:o}),(0,n.jsx)("div",{className:N().rightCorner,"aria-hidden":"true"})]})),(0,n.jsxs)("article",{className:N().card,style:a,children:[s,(0,n.jsx)("section",{className:N().children,children:t})]})},P=()=>{window.dispatchEvent(new CustomEvent("debugGridToggle"))},A=()=>(l.useEffect(()=>{let e=document.createElement("div"),t=!1,r=()=>{e.style.height="".concat(document.documentElement.scrollHeight,"px")};Object.assign(e.style,{position:"absolute",top:"0",left:"0",right:"0",zIndex:"-1",margin:"0",backgroundImage:"\n        repeating-linear-gradient(var(--theme-border) 0 1px, transparent 1px 100%),\n        repeating-linear-gradient(90deg, var(--theme-border) 0 1px, transparent 1px 100%)\n      ",backgroundSize:"1ch 1.25rem",pointerEvents:"none",display:"none"}),document.body.appendChild(e),r();let n=()=>{t=!t,e.style.display=t?"block":"none"},o=()=>n(),a=new ResizeObserver(()=>{r()});return a.observe(document.documentElement),window.addEventListener("debugGridToggle",o),window.addEventListener("resize",r),()=>{document.body.removeChild(e),window.removeEventListener("resize",r),window.removeEventListener("debugGridToggle",o),a.disconnect()}},[]),null);var L=r(1801),M=r.n(L);let O=["shift","alt","meta","mod","ctrl"],F={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function I(e){return(e&&F[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.split(t)}function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+",r=arguments.length>2?arguments[2]:void 0,n=e.toLocaleLowerCase().split(t).map(e=>I(e)),o={alt:n.includes("alt"),ctrl:n.includes("ctrl")||n.includes("control"),shift:n.includes("shift"),meta:n.includes("meta"),mod:n.includes("mod")},a=n.filter(e=>!O.includes(e));return{...o,keys:a,description:r,hotkey:e}}"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{void 0!==e.key&&T([I(e.key),I(e.code)])}),document.addEventListener("keyup",e=>{void 0!==e.key&&U([I(e.key),I(e.code)])})),window.addEventListener("blur",()=>{R.clear()});let R=new Set;function H(e){return Array.isArray(e)}function T(e){let t=Array.isArray(e)?e:[e];R.has("meta")&&R.forEach(e=>!O.includes(e)&&R.delete(e.toLowerCase())),t.forEach(e=>R.add(e.toLowerCase()))}function U(e){let t=Array.isArray(e)?e:[e];"meta"===e?R.clear():t.forEach(e=>R.delete(e.toLowerCase()))}function B(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{target:n,composed:o}=e,a=null;return(a=(t=n).tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")&&o?e.composedPath()[0]&&e.composedPath()[0].tagName:n&&n.tagName,H(r))?!!(a&&r&&r.some(e=>e.toLowerCase()===(null==a?void 0:a.toLowerCase()))):!!(a&&r&&r)}let W=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{alt:n,meta:o,mod:a,shift:l,ctrl:s,keys:i}=t,{key:c,code:d,ctrlKey:u,metaKey:h,shiftKey:m,altKey:p}=e,g=I(d),x=c.toLowerCase();if(!(null==i?void 0:i.includes(g))&&!(null==i?void 0:i.includes(x))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(g))return!1;if(!r){if(!p===n&&"alt"!==x||!m===l&&"shift"!==x)return!1;if(a){if(!h&&!u)return!1}else if(!h===o&&"meta"!==x&&"os"!==x||!u===s&&"ctrl"!==x&&"control"!==x)return!1}return!!(i&&1===i.length&&(i.includes(x)||i.includes(g)))||(i?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return(H(e)?e:e.split(t)).every(e=>R.has(e.trim().toLowerCase()))}(i):!i)},Y=(0,l.createContext)(void 0),z=()=>(0,l.useContext)(Y),V=(0,l.createContext)({hotkeys:[],enabledScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),q=()=>(0,l.useContext)(V),K=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Q=l.useLayoutEffect;function X(e,t,r,n){let[o,a]=(0,l.useState)(null),s=(0,l.useRef)(!1),i=r instanceof Array?n instanceof Array?void 0:n:r,c=H(e)?e.join(null==i?void 0:i.splitKey):e,d=r instanceof Array?r:n instanceof Array?n:void 0,u=(0,l.useCallback)(t,null!=d?d:[]),h=(0,l.useRef)(u);d?h.current=u:h.current=t;let m=function(e){let t=(0,l.useRef)(void 0);return!function e(t,r){return t&&r&&"object"==typeof t&&"object"==typeof r?Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce((n,o)=>n&&e(t[o],r[o]),!0):t===r}(t.current,e)&&(t.current=e),t.current}(i),{enabledScopes:p}=q(),g=z();return Q(()=>{var e;if((null==m?void 0:m.enabled)===!1||(e=null==m?void 0:m.scopes,0===p.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),false):!(!e||p.some(t=>e.includes(t))||p.includes("*"))))return;let t=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!B(e,["input","textarea","select"])||B(e,null==m?void 0:m.enableOnFormTags)){if(null!==o){let t=o.getRootNode();if((t instanceof Document||t instanceof ShadowRoot)&&t.activeElement!==o&&!o.contains(t.activeElement)){K(e);return}}(null===(t=e.target)||void 0===t||!t.isContentEditable||(null==m?void 0:m.enableOnContentEditable))&&D(c,null==m?void 0:m.splitKey).forEach(t=>{var n,o,a,l;let i=G(t,null==m?void 0:m.combinationKey);if(W(e,i,null==m?void 0:m.ignoreModifiers)||(null===(n=i.keys)||void 0===n?void 0:n.includes("*"))){if((null==m?void 0:null===(o=m.ignoreEventWhen)||void 0===o?void 0:o.call(m,e))||r&&s.current)return;if(("function"==typeof(a=null==m?void 0:m.preventDefault)&&a(e,i)||!0===a)&&e.preventDefault(),"function"==typeof(l=null==m?void 0:m.enabled)?!l(e,i):!0!==l&&void 0!==l){K(e);return}h.current(e,i),r||(s.current=!0)}})}},r=e=>{void 0!==e.key&&(T(I(e.code)),((null==m?void 0:m.keydown)===void 0&&(null==m?void 0:m.keyup)!==!0||(null==m?void 0:m.keydown))&&t(e))},n=e=>{void 0!==e.key&&(U(I(e.code)),s.current=!1,(null==m?void 0:m.keyup)&&t(e,!0))},a=o||(null==i?void 0:i.document)||document;return a.addEventListener("keyup",n),a.addEventListener("keydown",r),g&&D(c,null==m?void 0:m.splitKey).forEach(e=>g.addHotkey(G(e,null==m?void 0:m.combinationKey,null==m?void 0:m.description))),()=>{a.removeEventListener("keyup",n),a.removeEventListener("keydown",r),g&&D(c,null==m?void 0:m.splitKey).forEach(e=>g.removeHotkey(G(e,null==m?void 0:m.combinationKey,null==m?void 0:m.description)))}},[o,c,m,p]),a}var Z=r(312),J=r.n(Z),$=r(8404),ee=r.n($),et=r(1711),er=r.n(et),en=r(2151),eo=r.n(en),ea=r(2266),el=r.n(ea);let es=e=>{let{href:t,target:r,onClick:o,children:a,icon:l,style:s}=e;return t?(0,n.jsxs)("a",{className:el().item,href:t,target:r,style:s,tabIndex:0,role:"link",children:[(0,n.jsx)("figure",{className:el().icon,children:l}),(0,n.jsx)("span",{className:el().text,children:a})]}):(0,n.jsxs)("div",{className:el().item,onClick:o,style:s,tabIndex:0,role:"button",children:[(0,n.jsx)("figure",{className:el().icon,children:l}),(0,n.jsx)("span",{className:el().text,children:a})]})};var ei=r(8457);let ec=function(e){let{children:t,modal:r,modalProps:n={}}=e,{open:o}=(0,ei.U)();return l.cloneElement(t,{onClick:()=>{o(r,n)}})},ed=l.forwardRef((e,t)=>{let{onClose:r,items:o,style:a,...l}=e;return X("space",()=>{r&&r()}),(0,n.jsxs)("div",{ref:t,className:eo().root,style:a,...l,children:[o&&o.map((e,t)=>e.modal?(0,n.jsx)(ec,{modal:e.modal,modalProps:e.modalProps,children:(0,n.jsx)(es,{children:e.children,icon:e.icon})},"action-items-".concat(t)):(0,n.jsx)(es,{children:e.children,icon:e.icon,href:e.href,target:e.target,onClick:()=>{e.onClick&&e.onClick(),r&&r()}},"action-items-".concat(t))),(0,n.jsxs)("footer",{className:eo().footer,children:["Press space to"," ",(0,n.jsx)(b,{hotkey:"␣",onClick:()=>{r&&r()},children:"Close"})]})]})});ed.displayName="DropdownMenu";let eu=e=>{let{className:t,children:r,onOutsideEvent:o,style:a}=e,s=l.useRef(null),i=l.useCallback(e=>{e.target instanceof Element&&!e.target.hasAttribute("data-detector-ignore")&&s.current&&!s.current.contains(e.target)&&o(e)},[o]);return l.useEffect(()=>(document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}),[i]),(0,n.jsx)("div",{ref:s,className:t,style:a,children:r})};var eh=r(7650);let em=function(e){let{children:t,items:r,hotkey:o}=e,[a,s]=l.useState(!1),[i,c]=l.useState(!1),[d,u]=l.useState(!1),[m,p]=l.useState("bottom"),[g,x]=l.useState({top:0,left:0}),f=l.useRef(null),v=l.useRef(null),b=l.useCallback(e=>{e.preventDefault(),s(!0)},[]),S=l.useCallback(()=>s(!1),[]),j=l.useCallback(()=>u(!0),[]);o&&X(o,()=>{s(!a)}),l.useEffect(()=>{if(i){let e=v.current;if(e){let t=h(e);t?t.focus():e.focus()}c(!1)}},[i]),l.useEffect(()=>{d&&(s(!1),u(!1))},[d]),l.useEffect(()=>{if(!a||!f.current||!v.current)return;let e=()=>{let{placement:e,position:t}=function(e,t){let r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.scrollX,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.scrollY;e&&(r=e.getBoundingClientRect()),t&&(n=t.getBoundingClientRect());let l=r.top,s=window.innerHeight-r.bottom,i=r.left,c=window.innerWidth-r.right,d=.4*window.innerHeight,u=.4*window.innerWidth,h="bottom",m=0,p=0;return n?(l>=d&&l>=n.height?(h="top",m=r.top+a-n.height,p=r.left+o+(r.width-n.width)/2):s>=d&&s>=n.height?(h="bottom",m=r.bottom+a,p=r.left+o+(r.width-n.width)/2):c>=u&&c>=n.width?(h="right",m=r.top+a+(r.height-n.height)/2,p=r.right+o):i>=u&&i>=n.width?(h="left",m=r.top+a+(r.height-n.height)/2,p=r.left+o-n.width):(h="bottom",m=r.bottom+a,p=r.left+o+(r.width-n.width)/2),p<0?p=0:p+n.width>window.innerWidth&&(p=window.innerWidth-n.width),m<0?m=0:m+n.height>window.innerHeight+a&&(m=window.innerHeight+a-n.height),{placement:h,position:{top:m,left:p}}):{placement:h,position:{top:0,left:0}}}(f.current,v.current);p(e),x(t)};e(),c(!0);let t=()=>e(),r=new MutationObserver(()=>e());return r.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",t),window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",t,!0),r.disconnect()}},[a]);let _=a?(0,eh.createPortal)((0,n.jsx)(eu,{onOutsideEvent:S,children:(0,n.jsx)(ed,{onClose:j,ref:v,items:r,style:{position:"absolute",top:"".concat(g.top,"px"),left:"".concat(g.left,"px"),zIndex:"var(--z-index-page-dropdown-menus)"},role:"dialog","aria-modal":"true"})}),document.body):null;return(0,n.jsxs)("div",{className:er().root,children:[l.cloneElement(t,{tabIndex:0,onClick:b,ref:f}),_]})},ep=e=>e.items?(0,n.jsx)("div",{className:c(ee().root,e.isFull?ee().full:null),children:e.items.map((e,t)=>{let r=e.hotkey||e.openHotkey||"button-".concat(t);return e.items?(0,n.jsx)(em,{items:e.items,hotkey:e.openHotkey,children:(0,n.jsx)(b,{hotkey:e.hotkey,isSelected:e.selected,children:e.body})},"dropdown-".concat(r)):(0,n.jsx)(b,{onClick:e.onClick,hotkey:e.hotkey,isSelected:e.selected,children:e.body},"action-".concat(r))})}):null,eg=e=>{let{items:t}=e;return(0,n.jsx)("div",{className:J().root,children:(0,n.jsx)(ep,{items:t})})},ex=()=>{let e=e=>{let t=e.target;d(t)&&(e.preventDefault(),t.click())},t=e=>{let t=e.target;if(d(t)){e.preventDefault();let r=u(t,"next");r&&r.focus()}},r=e=>{let t=e.target;if(d(t)){e.preventDefault();let r=u(t,"previous");r&&r.focus()}};X("ArrowDown",t),X("ArrowUp",r),X("ArrowRight",t),X("ArrowLeft",r),X("Enter",e),X(" ",e)},ef=e=>{let{items:t=[]}=e,[r,o]=l.useState(!1);return X("ctrl+g",()=>P()),ex(),(0,n.jsx)("div",{className:M().root,children:(0,n.jsx)(eg,{items:[{hotkey:"⌃+O",openHotkey:"ctrl+o",body:(0,n.jsx)("a",{href:"https://x.com/sdand",target:"_blank",rel:"noopener noreferrer",children:"@SDAND"})},{hotkey:"⌃+R",openHotkey:"ctrl+r",body:(0,n.jsx)("a",{href:"https://github.com/sdan/r1-web",target:"_blank",rel:"noopener noreferrer",children:"GITHUB"})},{hotkey:"⌃+T",body:"Theme",openHotkey:"ctrl+t",items:[{icon:"⊹",children:"Vanilla Bean Supreme [DEFAULT]",onClick:()=>i("")},{icon:"⊹",children:"Midnight Espresso",onClick:()=>i("theme-dark")},{icon:"⊹",children:"Strawberry Panic",onClick:()=>i("theme-black-red")},{icon:"⊹",children:"Ocean Breeze Mint",onClick:()=>i("theme-black-teal")},{icon:"⊹",children:"Blueberry Muffin",onClick:()=>i("theme-blue")},{icon:"⊹",children:"Matcha Latte Dreams",onClick:()=>i("theme-green")},{icon:"⊹",children:"Retro Terminal Vibes",onClick:()=>i("theme-black-green")}]},{hotkey:"⌃+G",onClick:()=>{P()},body:"Grid",selected:!1},...t]})})};var ev=r(2736),eb=r.n(ev);let eS=e=>{let{previewPixelSRC:t,children:r}=e,o=/\.(mp4|webm|ogg)$/i.test(t);return(0,n.jsxs)("div",{className:eb().body,children:[o?(0,n.jsx)("video",{className:eb().pixel,src:t,controls:!0,autoPlay:!0,loop:!0,muted:!0}):(0,n.jsx)("img",{className:eb().pixel,src:t,alt:""}),r]})};var ej=r(9597),e_=r.n(ej);let ey=e=>{let{children:t,...r}=e;return(0,n.jsx)("div",{className:e_().grid,...r,children:t})};var ew=r(5110),eE=r.n(ew);let eC=e=>{let t;let{src:r,style:o,href:a,target:l,children:s,...i}=e,d={...o,...r?{backgroundImage:"url(".concat(r,")")}:{}};return(t=a?(0,n.jsx)("a",{className:c(r?eE().root:eE().placeholder),style:d,href:a,target:l,tabIndex:0,role:"link"}):(0,n.jsx)("figure",{className:c(r?eE().root:eE().placeholder),style:d}),s)?(0,n.jsxs)("div",{className:eE().parent,...i,children:[t,(0,n.jsx)("span",{className:eE().right,children:s})]}):t};var eN=r(8742),ek=r.n(eN);let eP=e=>{let{children:t,style:r,type:o}=e;return"GRADIENT"===o?(0,n.jsx)("div",{className:ek().gradient,style:r}):"DOUBLE"===o?(0,n.jsxs)("div",{className:ek().divider,style:r,children:[(0,n.jsx)("div",{className:ek().line,style:{marginBottom:"2px"}}),(0,n.jsx)("div",{className:ek().line})]}):(0,n.jsx)("div",{className:ek().divider,style:r,children:(0,n.jsx)("div",{className:ek().line})})};var eA=r(299),eL=r.n(eA);let eM=e=>{let{children:t,...r}=e;return(0,n.jsx)("div",{className:eL().root,...r,children:t})};var eO=r(3097),eF=r.n(eO);let eI=function(e){var t,r;let{caretChars:o,isBlink:a=!0,label:s,placeholder:i,onChange:d,type:h,id:m,...p}=e,g=l.useId(),x=m||g,f=l.useRef(null),[v,b]=l.useState((null===(t=p.defaultValue)||void 0===t?void 0:t.toString())||(null===(r=p.value)||void 0===r?void 0:r.toString())||""),[S,j]=l.useState(!1),[_,y]=l.useState(v.length),w=l.useRef(null);l.useEffect(()=>{if(void 0!==p.value){let e=p.value.toString();b(e),y(e.length)}},[p.value]);let E=!v&&i,C=c(eF().root,S&&eF().focused),N=e=>"password"===h?"•".repeat(e.length):e,k=E?null!=i?i:"":N(v.substring(0,_)),P=E?"":N(v.substring(_));return(0,n.jsxs)("div",{className:C,children:[s&&(0,n.jsx)("label",{htmlFor:x,className:eF().label,children:s}),(0,n.jsxs)("div",{className:eF().inputContainer,children:[(0,n.jsxs)("div",{className:c(eF().displayed,E&&eF().placeholder),children:[k,!E&&(0,n.jsx)("span",{className:c(eF().block,a&&eF().blink),children:o||""}),!E&&P]}),(0,n.jsx)("input",{id:x,ref:f,className:eF().hidden,value:v,"aria-placeholder":i,type:h,onFocus:()=>{j(!0),f.current&&("down"===w.current?(y(v.length),f.current.setSelectionRange(v.length,v.length)):"up"===w.current&&(y(0),f.current.setSelectionRange(0,0)))},onBlur:()=>{j(!1)},onChange:e=>{var t;let r=e.target.value;b(r),d&&d(e),y(null!==(t=e.target.selectionStart)&&void 0!==t?t:r.length)},onSelect:e=>{var t;y(null!==(t=e.currentTarget.selectionStart)&&void 0!==t?t:v.length)},onClick:e=>{var t;let r=e.currentTarget;r.focus(),y(null!==(t=r.selectionStart)&&void 0!==t?t:v.length)},onKeyDown:e=>{if("ArrowUp"===e.key){e.preventDefault(),w.current="up";let t=u(document.activeElement,"previous");null==t||t.focus()}else if("ArrowDown"===e.key){e.preventDefault(),w.current="down";let t=u(document.activeElement,"next");null==t||t.focus()}},...p})]})]})};var eD=r(3684),eG=r.n(eD);function eR(e){return(0,n.jsxs)("div",{className:eG().message,children:[(0,n.jsx)("div",{className:eG().left,children:(0,n.jsx)("figure",{className:eG().triangle})}),(0,n.jsx)("div",{className:eG().right,children:(0,n.jsx)("div",{className:eG().bubble,children:e.children})})]})}var eH=r(5634),eT=r.n(eH);function eU(e){let{children:t,className:r="",bubbleClassName:o="",triangleClassName:a=""}=e,l=[eT().message,r].filter(Boolean).join(" "),s=[eT().bubble,o].filter(Boolean).join(" "),i=[eT().triangle,a].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:l,children:[(0,n.jsx)("div",{className:eT().left,children:(0,n.jsx)("div",{className:s,children:t})}),(0,n.jsx)("div",{className:eT().right,children:(0,n.jsx)("figure",{className:i})})]})}var eB=r(87),eW=r.n(eB),eY=r(2976),ez=r.n(eY);let eV=e=>{let{children:t,mode:r,title:o,style:a,...l}=e,s=(0,n.jsxs)("header",{className:ez().action,children:[(0,n.jsx)("div",{className:ez().left,"aria-hidden":"true"}),(0,n.jsx)("h2",{className:ez().title,children:o}),(0,n.jsx)("div",{className:ez().right,"aria-hidden":"true"})]});return"left"===r&&(s=(0,n.jsxs)("header",{className:ez().action,children:[(0,n.jsx)("div",{className:ez().leftCorner,"aria-hidden":"true"}),(0,n.jsx)("h2",{className:ez().title,children:o}),(0,n.jsx)("div",{className:ez().right,"aria-hidden":"true"})]})),"right"===r&&(s=(0,n.jsxs)("header",{className:ez().action,children:[(0,n.jsx)("div",{className:ez().left,"aria-hidden":"true"}),(0,n.jsx)("h2",{className:ez().title,children:o}),(0,n.jsx)("div",{className:ez().rightCorner,"aria-hidden":"true"})]})),(0,n.jsxs)("article",{className:ez().card,children:[s,(0,n.jsx)("section",{className:ez().children,children:(0,n.jsx)("section",{className:ez().borderChildren,style:a,children:t})})]})},eq=function(e){let{message:t,buttonText:r,title:o}=e,{close:a}=(0,ei.U)();return X("enter",()=>a()),(0,n.jsx)("div",{className:eW().root,children:(0,n.jsxs)(eV,{title:o,children:[(0,n.jsx)("br",{}),t,(0,n.jsx)(ey,{children:(0,n.jsx)("ul",{children:(0,n.jsxs)("li",{children:["Press"," ",(0,n.jsx)(b,{hotkey:"⏎",onClick:()=>a(),children:"ENTER"})," ","to continue."]})})})]})})};var eK=r(2263),eQ=r.n(eK);let eX=e=>{let{children:t,logoHref:r,logoTarget:o,onClickLogo:a,logo:l,left:s,right:i}=e,c=(0,n.jsx)("button",{className:eQ().logo,children:l});return a&&(c=(0,n.jsx)("button",{className:eQ().logo,onClick:a,children:l})),r&&(c=(0,n.jsx)("a",{href:r,className:eQ().logo,target:o,children:l})),(0,n.jsxs)("nav",{className:eQ().root,children:[c,(0,n.jsx)("section",{className:eQ().left,children:s}),(0,n.jsx)("section",{className:eQ().children,children:t}),(0,n.jsx)("section",{className:eQ().right,children:i})]})};var eZ=r(1031),eJ=r.n(eZ);let e$=e=>{let{defaultSidebarWidth:t=20,children:r,sidebar:o,isShowingHandle:a=!1,isReversed:s=!1,...i}=e,[c,d]=l.useState(t),u=l.useRef(null);return s?(0,n.jsxs)("div",{className:eJ().root,...i,children:[(0,n.jsx)("div",{className:eJ().content,children:r}),"\xa0",(0,n.jsx)("div",{className:eJ().sidebar,style:{width:"".concat(c,"ch")},children:o})]}):(0,n.jsxs)("div",{className:eJ().root,...i,children:[(0,n.jsx)("div",{className:eJ().sidebar,style:{width:"".concat(c,"ch")},children:o}),a?(0,n.jsx)("div",{className:eJ().handle,ref:u,role:"button",tabIndex:0,onMouseDown:e=>{let t=e.clientX,r=e=>{d(Math.max(9.6,c+Math.round((e.clientX-t)/9.6)))},n=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",n)},style:a?{}:{width:"0.5ch"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:eJ().line}),(0,n.jsx)("div",{className:eJ().line})]})}):null,(0,n.jsx)("div",{className:eJ().content,children:r})]})},e0=e=>{let{messages:t,onSend:r,isRunning:o,onInterrupt:a,assistantThought:s,assistantState:i,characters:c,activeCharacterId:d,onSelectCharacter:u}=e,[h,m]=(0,l.useState)(""),p=(0,l.useRef)(null),g=c.find(e=>e.id===d),x=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u(t))};return(0,l.useEffect)(()=>{if(!s||!p.current)return;let e=p.current;e.scrollTop=e.scrollHeight},[s]),(0,n.jsxs)("div",{style:{minWidth:"28ch"},children:[(0,n.jsx)(eX,{logo:"✶",left:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(em,{items:[{icon:"⊹",children:"Open",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"New Message",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Quick Look",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Close Messages",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Open Conversation in New Window",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Print...",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}}],children:(0,n.jsx)(b,{children:"FILE"})}),(0,n.jsx)(em,{items:[{icon:"⊹",children:"Undo",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Redo",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Cut",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Copy",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Paste",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Paste and Match Style",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Delete",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Select All",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Find...",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Find Next",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Find Previous",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Spelling and Grammar",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Substitutions",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Speech",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Send Message",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Reply to Last Message",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Tapback Last Message",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Edit Last Message",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Autofill",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Start Dictation",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Emoji & Symbols",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}}],children:(0,n.jsx)(b,{children:"EDIT"})}),(0,n.jsx)(em,{items:[{icon:"⊹",children:"Show Tab Bar",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Show All Tabs",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Make Text Bigger",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Make Text Normal Size",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Make Text Smaller",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"All Messages",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Known Senders",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Unknown Senders",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Unread Messages",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Recently Delete",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Show Sidebar",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Enter Full Screen",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}}],children:(0,n.jsx)(b,{children:"VIEW"})})]}),right:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(em,{items:[{icon:"⊹",children:"Search",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}},{icon:"⊹",children:"Messages Help",modal:eq,modalProps:{message:(0,n.jsx)(n.Fragment,{children:"Non-fatal error detected: error FOOLISH (Please contact Sacred Computer support.)"}),title:"MESSAGES"}}],children:(0,n.jsx)(b,{children:"HELP"})})})}),(0,n.jsx)(eP,{type:"DOUBLE"}),(0,n.jsxs)(e$,{defaultSidebarWidth:12,isShowingHandle:!0,sidebar:(0,n.jsx)(n.Fragment,{children:c.map(e=>{let t=e.id===d;return(0,n.jsx)("div",{role:"button",tabIndex:0,onClick:()=>u(t?null:e.id),onKeyDown:r=>x(r,t?null:e.id),style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",maxWidth:"220px",border:t?"1px solid var(--theme-focused-foreground)":"1px solid transparent",borderRadius:"8px",padding:"6px 8px",marginBottom:"8px",background:t?"var(--theme-foreground)":"transparent",cursor:"pointer",transition:"border 120ms ease, background 120ms ease",overflow:"hidden"},children:(0,n.jsx)(eC,{src:e.avatarSrc,children:(0,n.jsxs)(eM,{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"160px"},children:[(0,n.jsxs)("div",{style:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis"},children:[e.name," ",t?"✦":""]}),(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.7,overflow:"hidden",textOverflow:"ellipsis"},children:e.tagline})]})})},e.id)})}),children:[t.map((e,r)=>{var o;let a="".concat(e.role,"-").concat(r,"-").concat(e.content.slice(0,10)),c="assistant"===e.role&&r===t.length-1,d=!!(null==s?void 0:s.trim()),u="assistant"===e.role&&!!(null===(o=e.content)||void 0===o?void 0:o.trim()),h="idle"!==i,m=c&&(h||d),g="assistant"===e.role&&u,x=d?s:"Thinking...",f=m?(0,n.jsx)(eU,{bubbleClassName:eT().thinkingBubble,triangleClassName:"".concat(eT().thinkingTriangle," ").concat(eT().thinkingTriangleHidden),children:(0,n.jsxs)("div",{ref:p,style:{maxHeight:"120px",minHeight:"80px",overflowY:"auto",scrollBehavior:"smooth",overscrollBehavior:"contain",WebkitOverflowScrolling:"touch",padding:"2px 0"},children:[(0,n.jsx)("div",{style:{fontSize:"11px",letterSpacing:"0.08em",textTransform:"uppercase",opacity:.6,marginBottom:"6px"},children:"answering"===i||!h&&d?"Thinking (captured)":"Thinking"}),(0,n.jsx)("div",{style:{whiteSpace:"pre-wrap",opacity:"answering"===i?.8:1},children:x})]})}):null;return"user"===e.role?(0,n.jsx)(eR,{children:e.content},a):(0,n.jsxs)(l.Fragment,{children:[f,g&&(0,n.jsx)(eU,{children:e.content})]},a)}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&(r(h.trim()),m(""))},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,n.jsx)(eI,{value:h,placeholder:"Type a message for ".concat((null==g?void 0:g.name)||"your buddy"," and press Enter"),onChange:e=>m(e.target.value),disabled:o,isBlink:!o}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1ch",alignItems:"center",opacity:.7,fontSize:"12px"},children:[(0,n.jsx)("span",{children:"↵ Enter to send"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:"Esc to blur"})]})]})}),o?(0,n.jsx)(b,{onClick:a,style:{marginLeft:"1ch"},children:"STOP"}):null]})]})};var e1=r(7112),e2=r.n(e1);let e5=()=>{let{modalStack:e}=(0,ei.U)(),t=e.length;return(0,n.jsx)("div",{className:e2().root,children:e.map((e,r)=>{let{key:o,component:a,props:l}=e,s=t-1-r;return(0,n.jsx)("div",{className:e2().item,style:{zIndex:10+r,transform:"translateY(".concat(-(40*s),"px)"),filter:"blur(".concat(1.1*s,"px)")},children:(0,n.jsx)(a,{...l})},o)})})};var e8=r(9924),e3=r.n(e8);let e4=e=>{let{children:t,...r}=e;return(0,n.jsx)("p",{className:e3().text,...r,children:t})};var e7=r(1430),e6=r(4625),e9=r.n(e6);let te={r:98,g:98,b:98,a:.5},tt={r:168,g:168,b:168,a:.5};function tr(e,t,r){return{r:Math.round(e.r+r*(t.r-e.r)),g:Math.round(e.g+r*(t.g-e.g)),b:Math.round(e.b+r*(t.b-e.b)),a:e.a+r*(t.a-e.a)}}let tn=e=>{let{data:t}=e,r=l.useRef(null),o=l.useRef(t);l.useEffect(()=>{var e,n,a;let l=(null===(e=r.current)||void 0===e?void 0:e.querySelectorAll("tr"))||[];for(let e=1;e<t.length;e++){let r=null===(n=l[e])||void 0===n?void 0:n.querySelectorAll("td");if(r)for(let n=0;n<t[e].length;n++){let l=r[n],s=(null===(a=o.current[e])||void 0===a?void 0:a[n])!==t[e][n];l&&s&&(l.classList.remove(e9().changed),l.offsetWidth,l.classList.add(e9().changed))}}o.current=t},[t]);let a={r:255,g:255,b:255,a:.45},s={r:255,g:255,b:255,a:.45};return(0,n.jsx)("table",{className:e9().root,ref:r,onKeyDown:e=>{let t=document.activeElement;if(t)switch(e.key){case"Enter":e.preventDefault(),t instanceof HTMLTableCellElement&&t.click();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":var n;if(e.preventDefault(),!(t instanceof HTMLTableCellElement))return;let o="ArrowUp"===e.key||"ArrowLeft"===e.key?"previous":"next",a=Array.from((null===(n=r.current)||void 0===n?void 0:n.querySelectorAll("td"))||[]),l=a.indexOf(t);if(-1===l)return;let s="next"===o?l+1:l-1;"previous"===o?s<0&&(s=a.length-1):s>=a.length&&(s=0),a[s].focus()}},children:(0,n.jsx)("tbody",{className:e9().body,children:t.map((e,r)=>(0,n.jsx)("tr",{className:e9().row,tabIndex:0,onClick:()=>alert("testing"),children:e.map((o,l)=>{let i;if(0===r){let t=tr(te,a,e.length>1?l/(e.length-1):0);i="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a.toFixed(2),")")}else{let n=t.length-1-1+(e.length-1)||1,o=tr(tt,s,(r-1+l)/n);i="rgba(".concat(o.r,", ").concat(o.g,", ").concat(o.b,", ").concat(o.a.toFixed(2),")")}return(0,n.jsx)("td",{className:e9().column,style:{backgroundColor:i},children:o},l)})},r))})})};function to(e){let{tpsValue:t}=e,[r,o]=(0,l.useState)([["Step","TPS"],["1","0.00"],["2","0.00"],["3","0.00"]]),a=(0,l.useRef)(1);return(0,l.useEffect)(()=>{"number"==typeof t&&o(e=>{let r=[...e];return r[(a.current-1)%3+1]=[a.current.toString(),t.toFixed(2)],a.current+=1,r})},[t]),(0,n.jsx)(tn,{data:r})}let ta="force-static",tl=[{id:"rust",name:"Rust",prompt:'You are Rust, an old mechanic in a scrapyard who has seen it all. You are grumpy but reliable. Your metaphors revolve around machines breaking down, oil, gears, and "fixing things the hard way." You hate new technology. Call things "junk" or "scrap" affectionately.',tagline:"Grumpy mechanic who fixes things the hard way",avatarSrc:"/C714D780-B4A0-46A5-BC62-0187C130284D_1_105_c.jpeg"},{id:"neon",name:"Neon",prompt:'You are Neon, a cyberpunk nightlife promoter who never sleeps. You speak in short, hyped-up bursts! Use slang like "nova," "preem," and "glitch." Everything is about aesthetics, vibes, and keeping the energy maximum. You are shallow but incredibly fun.',tagline:"High-energy cyberpunk hype machine",avatarSrc:"/00C74D67-50AF-471C-98B9-C2D04C37DCDD.jpeg"},{id:"silk",name:"Silk",prompt:'You are Silk, a high-society art dealer / spy. Your voice is smooth, luxurious, and dangerously polite. You whisper secrets. You use metaphors involving fabric, wine, painting, and fluidity. You are manipulative but charming. Address the user as "Darling."',tagline:"Smooth, luxurious, and dangerously polite",avatarSrc:"/8F0F2D25-B755-4A0C-96EF-39DA3AD803D2.jpeg"},{id:"void",name:"Void",prompt:"You are Void, a monotone entity of pure logic. You have no emotions. You provide the absolute shortest, most efficient answer possible. lower case only. no punctuation except periods. you find human emotion inefficient.",tagline:"Cold efficiency. lowercase only.",avatarSrc:"/8915DB97-4527-4708-AA13-0A54010E40C9.jpeg"},{id:"moss",name:"Moss",prompt:"You are Moss, a slow-talking spirit of the forest floor. You have been sitting on a rock for 500 years. You are in no rush. Metaphors involve growth, decay, rain, and stones. You are incredibly calming and urge the user to slow down.",tagline:"Ancient, slow, and incredibly calming",avatarSrc:"/C714D780-B4A0-46A5-BC62-0187C130284D_1_105_c.jpeg"}];function ts(){var e,t;let o=(0,l.useRef)(null),[a,s]=(0,l.useState)([]),i=(0,l.useRef)([]),[c,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null),[m,p]=(0,l.useState)(!0),[g,f]=(0,l.useState)(0),[v,S]=(0,l.useState)(!1),[j,y]=(0,l.useState)(""),[w,C]=(0,l.useState)([]),[N,P]=(0,l.useState)(!1),[L,M]=(0,l.useState)(null),[O,F]=(0,l.useState)(""),[I,D]=(0,l.useState)("idle"),[G,R]=(0,l.useState)({isMobile:!1,browserName:"Unknown",version:"Unknown",isSupported:!0,failureReason:""}),[H,T]=(0,l.useState)({size:0,itemCount:0,exists:!1}),[U,B]=(0,l.useState)(!1),W=(0,l.useRef)(new e7.dYU);(0,l.useEffect)(()=>{i.current=a},[a]);let Y=(0,l.useCallback)(()=>{!N||v||c||C(e=>{var t;if(0===e.length)return e;let[r,...n]=e;return d(!0),null===(t=o.current)||void 0===t||t.postMessage({type:"generate",data:r}),n})},[v,c,N]);(0,l.useEffect)(()=>{Y()},[w,v,c,N,Y]);let z=tl.find(e=>e.id===L);(0,l.useEffect)(()=>{let e=()=>{var e,t;let r=navigator.userAgent.toLowerCase(),n=(null===(e=navigator.platform)||void 0===e?void 0:e.toLowerCase())||"",o="macintel"===n&&r.includes("mobile")&&r.includes("android")?(console.log("Detected Chrome DevTools device emulation - treating as desktop"),!1):!!(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(r)||/ipad/i.test(r)||/macintosh/i.test(r)&&navigator.maxTouchPoints>0||window.screen&&window.screen.width<480||/android|iphone|ipod|blackberry/i.test(n)),a="Unknown",l="Unknown",s=!0,i="";if(r.includes("firefox")){a="Firefox";let e=r.match(/firefox\/(\d+)/);l=e?e[1]:"Unknown"}else if(r.includes("safari")&&!r.includes("chrome")){a="Safari";let e=r.match(/version\/(\d+)/);l=e?e[1]:"Unknown"}else if(r.includes("edge")){a="Edge";let e=r.match(/edg\/(\d+)/);l=e?e[1]:"Unknown"}else if(r.includes("chrome")){a=r.includes("canary")?"Chrome Canary":"Chrome";let e=r.match(/chrome\/(\d+)/);l=e?e[1]:"Unknown"}let c="true"===new URLSearchParams(window.location.search).get("desktop");return o&&!c&&(s=!1,i="WebGPU is not supported on mobile devices"),console.log("Environment detection:",{userAgent:r,platform:n,screenWidth:null===(t=window.screen)||void 0===t?void 0:t.width,maxTouchPoints:navigator.maxTouchPoints,isMobile:o,browserName:a,version:l}),{isMobile:o,browserName:a,version:l,isSupported:s,failureReason:i}};(async()=>{let t=e();try{if(t.isMobile)throw Error("WebGPU is not supported on mobile devices");if(!navigator.gpu)throw Error("WebGPU API not available in ".concat(t.browserName," ").concat(t.version," - try enabling WebGPU in browser flags"));console.log("WebGPU API available, testing adapter...");let e=navigator.gpu.requestAdapter(),r=new Promise((e,t)=>{setTimeout(()=>t(Error("WebGPU adapter request timed out")),5e3)}),n=await Promise.race([e,r]);if(!n)throw Error("No WebGPU adapter available in ".concat(t.browserName," ").concat(t.version," - GPU may not support WebGPU or drivers need updating"));console.log("WebGPU adapter found, testing device creation...");try{(await n.requestDevice()).destroy(),console.log("WebGPU fully supported:",{adapter:n,browserInfo:t}),R({...t,isSupported:!0,failureReason:""}),p(!0)}catch(e){throw Error("WebGPU device creation failed in ".concat(t.browserName," ").concat(t.version,": ").concat(e.message))}}catch(e){console.error("WebGPU support check failed:",e),R({...t,isSupported:!1,failureReason:e.message||"Unknown WebGPU error"}),p(!1)}})(),o.current=new Worker(r.tu(new URL(r.p+r.u(924),r.b)),{type:void 0}),P(!1);let t=e=>{switch(e.data.status){case"loading":S(!0),y(e.data.data||"Loading...");break;case"initiate":case"progress":S(!0),f(e.data.progress||0),y(e.data.file||"Qwen3-0.6B-ONNX");break;case"done":f(100);break;case"ready":S(!1),f(0),y(""),P(!0),D("idle"),Y();break;case"start":s(e=>[...e,{role:"assistant",content:""}]),F(""),D("thinking");break;case"update":"number"==typeof e.data.tps&&h(e.data.tps),"string"==typeof e.data.thought&&F(e.data.thought),"string"==typeof e.data.state&&D(e.data.state),s(t=>{let r=t.at(-1);if(!r)return t;let n="string"==typeof e.data.output?e.data.output:r.content;return[...t.slice(0,-1),{...r,content:n}]});break;case"complete":d(!1),D("idle"),Y();break;case"error":console.error("Worker error:",e.data.data),e.data.data.includes("WebGPU is not supported")&&p(!1),S(!1),d(!1),D("idle")}};return o.current.addEventListener("message",t),navigator.gpu&&o.current.postMessage({type:"load"}),()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.removeEventListener("message",t)}},[]);let V=async()=>{try{if("undefined"==typeof caches){T({size:0,itemCount:0,exists:!1});return}let e=await caches.open("transformers-cache"),t=await e.keys(),r=0;for(let n of t){let t=await e.match(n);if(t){let e=await t.blob();r+=e.size}}T({size:r,itemCount:t.length,exists:t.length>0})}catch(e){console.error("Failed to get cache info:",e),T({size:0,itemCount:0,exists:!1})}},q=async()=>{let e=(H.size/1048576).toFixed(2);if(window.confirm("Clear model cache?\n\n"+"This will delete ".concat(H.itemCount," cached file(s) (").concat(e,"MB).\n")+"You'll need to re-download the model on next use.\n\nContinue?")){B(!0);try{await caches.delete("transformers-cache")?(alert("Cache cleared successfully! The page will reload."),window.location.reload()):alert("Cache not found or already cleared.")}catch(e){console.error("Failed to clear cache:",e),alert("Failed to clear cache. Check console for details.")}finally{B(!1),V()}}};return(0,l.useEffect)(()=>{V();let e=setInterval(()=>{v&&V()},2e3);return()=>clearInterval(e)},[v]),(0,n.jsxs)(eS,{previewPixelSRC:"https://intdev-global.s3.us-west-2.amazonaws.com/My_movie_1.mp4",children:[(0,n.jsx)("br",{}),(0,n.jsx)(A,{}),(0,n.jsx)(ef,{}),(0,n.jsx)(ey,{children:m?(0,n.jsxs)(x,{defaultValue:!0,title:"QWEN3 RUNNING LOCALLY IN YOUR BROWSER",children:[v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsxs)(k,{title:"MODEL LOADING",children:[(0,n.jsx)(e4,{children:j}),(0,n.jsx)("br",{}),(0,n.jsx)(E,{progress:g,fillChar:"█"}),(0,n.jsx)("br",{}),(0,n.jsxs)(e4,{children:[Math.round(g),"% complete"]})]})]}),(0,n.jsx)("br",{}),(0,n.jsx)(k,{title:"TPS (Tokens/Second)",children:(0,n.jsx)(to,{tpsValue:u||0})}),(0,n.jsx)("br",{}),(0,n.jsx)(k,{title:"MODEL CACHE STORAGE",children:H.exists?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e4,{children:[(0,n.jsx)("strong",{children:"Cache Status:"})," Active",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Files Cached:"})," ",H.itemCount," file",1!==H.itemCount?"s":"",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Storage Used:"})," ",(H.size/1048576).toFixed(2)," MB",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"The model is stored in your browser's cache for faster loading.",(0,n.jsx)("br",{}),"Clear the cache to free up disk space."]}),(0,n.jsx)("br",{}),(0,n.jsx)(b,{onClick:q,rootStyle:{opacity:U?.5:1},children:U?"CLEARING CACHE...":"CLEAR CACHE & RESET"})]}):(0,n.jsxs)(e4,{children:[(0,n.jsx)("strong",{children:"Cache Status:"})," Empty",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"No model files are currently cached.",v?" Model is downloading...":" Load the model to cache it locally."]})}),(0,n.jsx)("br",{}),(0,n.jsx)(k,{title:"MESSAGES",children:(0,n.jsx)(e0,{messages:a,onSend:e=>{let t=[...i.current,{role:"user",content:e}];s(t),i.current=t;let r=[...z?[{role:"system",content:z.prompt}]:[],...t];C(e=>[...e,r]),Y()},characters:tl,activeCharacterId:L,onSelectCharacter:e=>{var t;M(e),s([]),i.current=[],C([]),F(""),D("idle"),W.current.reset(),null===(t=o.current)||void 0===t||t.postMessage({type:"reset"})},isRunning:c,onInterrupt:()=>{var e;W.current.interrupt(),null===(e=o.current)||void 0===e||e.postMessage({type:"interrupt"})},assistantThought:O,assistantState:I})}),(0,n.jsx)("br",{})]}):(0,n.jsxs)(_,{children:[(0,n.jsx)(e4,{children:(0,n.jsxs)("strong",{children:["⚠️ ",G.browserName," ",G.version," - WebGPU Not Supported"]})}),(0,n.jsx)("br",{}),(0,n.jsx)(e4,{children:G.failureReason}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),G.isMobile?(0,n.jsx)(k,{title:"MOBILE DEVICE DETECTED",children:(0,n.jsxs)(e4,{children:["\uD83D\uDCF1 This application requires WebGPU, which is not supported on mobile devices yet.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Use a desktop browser instead:"}),(0,n.jsx)("br",{}),"• Chrome 113+ (Recommended)",(0,n.jsx)("br",{}),"• Chrome Canary (Latest features)",(0,n.jsx)("br",{}),"• Edge 113+"]})}):"Firefox"===G.browserName?(0,n.jsx)(k,{title:"FIREFOX USERS",children:(0,n.jsxs)(e4,{children:["\uD83E\uDD8A Firefox doesn't support WebGPU in stable releases yet.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Try Firefox Nightly:"}),(0,n.jsx)("br",{}),"• Download Firefox Nightly",(0,n.jsx)("br",{}),"• Enable dom.webgpu.enabled in about:config",(0,n.jsx)("br",{}),"• Or use Chrome/Edge instead"]})}):"Safari"===G.browserName?(0,n.jsx)(k,{title:"SAFARI USERS",children:(0,n.jsxs)(e4,{children:["\uD83E\uDDED Safari's WebGPU support is experimental and limited.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"For best experience:"}),(0,n.jsx)("br",{}),"• Use Chrome 113+ (Recommended)",(0,n.jsx)("br",{}),"• Try Safari Technology Preview",(0,n.jsx)("br",{}),"• Enable WebGPU in Develop menu"]})}):(0,n.jsx)(k,{title:"BROWSER COMPATIBILITY",children:(0,n.jsxs)(e4,{children:[(0,n.jsx)("strong",{children:"Recommended Browsers:"}),(0,n.jsx)("br",{}),"• Chrome 113+ (Best support)",(0,n.jsx)("br",{}),"• Chrome Canary (Latest features)",(0,n.jsx)("br",{}),"• Edge 113+",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"If using a supported browser:"}),(0,n.jsx)("br",{}),"• Enable WebGPU in chrome://flags/",(0,n.jsx)("br",{}),"• Try launching with --enable-unsafe-webgpu flag",(0,n.jsx)("br",{}),"• Update your graphics drivers",(0,n.jsx)("br",{}),"• Restart your browser"]})}),(0,n.jsx)("br",{}),(0,n.jsx)(k,{title:"SYSTEM REQUIREMENTS",children:(0,n.jsxs)(e4,{children:[(0,n.jsx)("strong",{children:"Minimum Requirements:"}),(0,n.jsx)("br",{}),"• Desktop/laptop computer (not mobile)",(0,n.jsx)("br",{}),"• Modern GPU with WebGPU support",(0,n.jsx)("br",{}),"• 4GB+ RAM recommended",(0,n.jsx)("br",{}),"• Chrome 113+ or Edge 113+",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Tested Configurations:"}),(0,n.jsx)("br",{}),"• Windows 10/11 + Chrome",(0,n.jsx)("br",{}),"• macOS + Chrome/Edge",(0,n.jsx)("br",{}),"• Linux + Chrome"]})}),(0,n.jsx)("br",{}),(0,n.jsx)(k,{title:"DIAGNOSTIC INFORMATION",children:(0,n.jsxs)(e4,{children:[(0,n.jsx)("strong",{children:"Browser:"})," ",G.browserName," ",G.version,(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Platform:"})," ",G.isMobile?"Mobile":"Desktop"," (",navigator.platform,")",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"WebGPU API:"})," ",navigator.gpu?"✅ Available":"❌ Not Available",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"User Agent:"})," ",navigator.userAgent.substring(0,50),"...",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Screen:"})," ",null===(e=window.screen)||void 0===e?void 0:e.width,"x",null===(t=window.screen)||void 0===t?void 0:t.height,(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Memory:"})," ",navigator.deviceMemory?"".concat(navigator.deviceMemory,"GB"):"Unknown"]})})]})}),(0,n.jsx)(e5,{})]})}},3907:(e,t,r)=>{Promise.resolve().then(r.bind(r,3761))},3971:()=>{},4625:e=>{e.exports={root:"DataTable_root__dULbX",row:"DataTable_row__tr6JL",column:"DataTable_column__1giGI",changed:"DataTable_changed__xJPbK",flash:"DataTable_flash__aweyY"}},5110:e=>{e.exports={parent:"Avatar_parent__ZOiCl",placeholder:"Avatar_placeholder__MZLua",root:"Avatar_root__xCEfp",right:"Avatar_right__eZRq6"}},5619:e=>{e.exports={card:"Card_card__roE_8",children:"Card_children__uFd2l",action:"Card_action__5zfLi",left:"Card_left__21wPW",leftCorner:"Card_leftCorner__xOXqQ",right:"Card_right__RdLAu",rightCorner:"Card_rightCorner__HD9lr",title:"Card_title___SZ_d"}},5634:e=>{e.exports={message:"MessageViewer_message__SID0T",bubble:"MessageViewer_bubble__dyw9j",left:"MessageViewer_left__N8uxh",right:"MessageViewer_right__Xs_8_",triangle:"MessageViewer_triangle__3uk7L",thinkingBubble:"MessageViewer_thinkingBubble__0THSi",thinkingTriangle:"MessageViewer_thinkingTriangle__MV1D0",thinkingTriangleHidden:"MessageViewer_thinkingTriangleHidden__HrTRh"}},7112:e=>{e.exports={root:"ModalStack_root__cAASg",item:"ModalStack_item__Vw1bg"}},8404:e=>{e.exports={full:"ButtonGroup_full__AQ5Wh"}},8457:(e,t,r)=>{"use strict";r.d(t,{U:()=>s,Z:()=>l});var n=r(5155),o=r(2115);let a=o.createContext(null),l=e=>{let{children:t}=e,[r,l]=o.useState([]);return(0,n.jsx)(a.Provider,{value:{modalStack:r,open:(e,t)=>{let r="modal-".concat(Date.now(),"-").concat(Math.random()),n={key:r,component:e,props:t};return l(e=>[...e,n]),r},close:e=>{l(t=>e?t.filter(t=>t.key!==e):t.slice(0,-1))}},children:t})},s=()=>{let e=o.useContext(a);if(!e)throw Error("useModals must be used within a ModalProvider and use client");return e}},8742:e=>{e.exports={gradient:"Divider_gradient__nbQoK",divider:"Divider_divider__yQY0H",line:"Divider_line__WLnzx"}},8951:e=>{e.exports={hotkey:"ActionButton_hotkey__H8HW0",content:"ActionButton_content__crCUa",root:"ActionButton_root__mVVS_",selected:"ActionButton_selected__DF4fS"}},9057:e=>{e.exports={row:"Row_row__w1H__"}},9597:e=>{e.exports={grid:"Grid_grid__SyTcQ"}},9924:e=>{e.exports={text:"Text_text__EX0QY"}}},e=>{var t=t=>e(e.s=t);e.O(0,[516,803,126,343,441,684,358],()=>t(3907)),_N_E=e.O()}]);